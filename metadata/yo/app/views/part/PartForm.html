<div class="container">

<div class="btn-group">
    <a ng-href="#/part" class="btn btn-large">Part List</a>
    <a ng-href="#/part/{{ part.partType.typeName }}/{{ partId }}" class="btn btn-large" data-ng-hide="oldPart == null">View Part</a>
    <a ng-href="#/part/{{ part.partType.typeName }}/{{ partId }}/interchange/search" class="btn btn-large btn-info" data-ng-hide="oldPart == null">Interchange...</a>
    <a ng-click="save()" class="btn btn-large btn-success">Save</a>
  <!--ng-disabled="!isChanged()"-->
  <a ng-click="revert()" class="btn btn-large btn-warning" data-ng-hide="oldPart == null">Revert</a>
  <!--ng-disabled="!isChanged()"-->
  <a ng-click="sync()" class="btn btn-large btn-info" data-ng-hide="oldPart == null">Sync</a>
</div>

<ng-form>

<h2>
    <span ng-hide="partId">Create </span>
    <span ng-show="partId">Edit </span>
    {{ part.partType.name }}
    <span ng-show="partId">#{{ partId }} </span></h2>

<label>Name</label>
<input type="text" ng-model="part.name"/>

<label>Description</label>
<input type="text" ng-model="part.description"/>

<label>Status</label>
<button ng-model="part.inactive" class="btn" btn-checkbox>
    <span ng-show="part.inactive">Inactive</span>
    <span ng-hide="part.inactive">Active</span>
</button>

<label>Manufacturer</label>
<picker ng-model="part.manufacturer" path="other/manufacturer"></picker>

<label>Manufacturer P/N</label>
<input type="text" ng-model="part.manufacturerPartNumber"/>

<!-- Type-specific fields -->
<div ng-switch="part.partType.typeName">

    <!-- Backplate -->
    <div ng-switch-when="Backplate">
        <label>Seal Type</label>
        <picker path="type/seal" ng-model="part.sealType"></picker>

        <label>Seal Type</label>
        <input type="text" ng-model="part.sealTypeString"/>

        <label>Compressor Wheel Style</label>
        <input type="text" ng-model="part.styleCompressorWheel"/>

        <label>Overall Diameter</label>
        <input type="text" ng-model="part.overallDiameter"/>

        <label>Compressor Wheel Diameter</label>
        <input type="text" ng-model="part.compressorWheelDiameter"/>

        <label>Piston Ring Diameter</label>
        <input type="text" ng-model="part.pistonRingDiameter"/>

        <label>Compressor Housing Diameter</label>
        <input type="text" ng-model="part.compressorHousingDiameter"/>

        <label>Secondary Diameter</label>
        <input type="text" ng-model="part.secondaryDiameter"/>

        <label>Overall Height</label>
        <input type="text" ng-model="part.overallHeight"/>

        <label>Notes</label>
        <textarea ng-model="part.notes"></textarea>
    </div>

    <!-- Bearing Housing -->
    <div ng-switch-when="BearingHousing">
        <label>Coolant</label>
        <picker path="type/cool" ng-model="part.coolType"></picker>

        <label>Oil Inlet</label>
        <input type="text" ng-model="part.oilInlet"/>

        <label>Oil Outlet</label>
        <input type="text" ng-model="part.oilOutlet"/>

        <label>Oil</label>
        <input type="text" ng-model="part.oil"/>

        <label>Outlet Flange Holes</label>
        <input type="text" ng-model="part.outletFlangeHoles"/>

        <label>Water Ports</label>
        <input type="text" ng-model="part.waterPorts"/>

        <label>Design Features</label>
        <input type="text" ng-model="part.designFeatures"/>

        <label>Bearing Type</label>
        <input type="text" ng-model="part.bearingType"/>
    </div>

    <!-- Bearing Spacer -->
    <div ng-switch-when="BearingSpacer">
        <label>Standard Size</label>
        <!--<picker path="part?type=BearingSpacer" ng-model="part.standardSize"></picker>-->

        <label>Oversize</label>
        <!--<picker path="part?type=BearingSpacer" ng-model="part.oversize"></picker>-->

        <label>Outside Diameter (min - max)</label>
        <input type="text" ng-model="part.outsideDiameterMin"/> - <input type="text" ng-model="part.outsideDiameterMax"/>
        private Float insideDiameterMin;

        <label>Inside Diameter (min - max)</label>
        <input type="text" ng-model="part.insideDiameterMin"/> - <input type="text" ng-model="part.insideDiameterMax"/>
    </div>

    <!-- Cartridge -->

    <!-- Compressor Wheel -->
    <div ng-switch-when="CompressorWheel">
        <label>Inducer Diameter A</label>
        <input type="text" ng-model="part.inducerOa"/>

        <label>Tip Height B</label>
        <input type="text" ng-model="part.tipHeightB"/>

        <label>Exducer Diameter C</label>
        <input type="text" ng-model="part.exducerOc"/>

        <label>Hub Length D</label>
        <input type="text" ng-model="part.hubLengthD"/>

        <label>Bore Diameter E</label>
        <input type="text" ng-model="part.boreOe"/>

        <label>Number of Blades</label>
        <input type="text" ng-model="part.numberOfBlades"/>

        <label>Application</label>
        <input type="text" ng-model="part.application"/>
    </div>

    <!-- Gasket -->
    <div ng-switch-when="Gasket">
        <label>Type</label>
        <picker path="type/gasket" ng-model="part.gasketType"></picker>
    </div>

    <!-- Heatshield -->
    <div ng-switch-when="Heatshield">
        <label>Overall Diameter</label>
        <input type="text" ng-model="part.overallDiameter"/>

        <label>Inside Diameter</label>
        <input type="text" ng-model="part.insideDiameter"/>

        <label>Inducer Diameter</label>
        <input type="text" ng-model="part.inducerDiameter"/>
    </div>

    <!-- Journal Bearing -->
    <div ng-switch-when="JournalBearing">
        <label>Standard Size</label>
        <!--<picker path="part?type=JournalBearing" ng-model="part.standardSize"></picker>-->

        <label>Oversize</label>
        <!--<picker path="part?type=JournalBearing" ng-model="part.oversize"></picker>-->

        <label>Outside Diameter (min - max)</label>
        <input type="text" ng-model="part.outsideDiameterMin"/> - <input type="text" ng-model="part.outsideDiameterMax"/>

        <label>Inside Diameter (min - max)</label>
        <input type="text" ng-model="part.insideDiameterMin"/> - <input type="text" ng-model="part.insideDiameterMax"/>
    </div>

    <!-- Kit -->
    <div ng-switch-when="Kit">
        <label>Kit Type</label>
        <picker path="type/kit" ng-model="part.kitType"></picker>
    </div>

    <!-- Nozzle Ring -->

    <!-- Piston Ring -->
    <div ng-switch-when="PistonRing">
        <label>Outside Diameter (min - max)</label>
        <input type="text" ng-model="part.outsideDiameterMin"/> - <input type="text" ng-model="part.outsideDiameterMax"/>

        <label>Width (min - max)</label>
        <input type="text" ng-model="part.widthMin"/> - <input type="text" ng-model="part.widthMax"/>

        <label>Installed Gap (min - max)</label>
        <input type="text" ng-model="part.installedGapMin"/> - <input type="text" ng-model="part.installedGapMax"/>
    </div>

    <!-- Turbine Wheel -->
    <div ng-switch-when="TurbineWheel">
        <label>Exducer Diameter A</label>
        <input type="text" ng-model="part.exducerDiameterA"/>

        <label>Tip Height B</label>
        <input type="text" ng-model="part.tipHeightB"/>

        <label>Inducer Diameter C</label>
        <input type="text" ng-model="part.inducerDiameterC"/>

        <label>Journal Diameter D</label>
        <input type="text" ng-model="part.journalDiameterD"/>

        <label>Stem Diameter E</label>
        <input type="text" ng-model="part.stemDiameterE"/>

        <label>Shaft Thread F</label>
        <input type="text" ng-model="part.shaftThreadF"/>

        <label>Number of Blades</label>
        <input type="text" ng-model="part.numberOfBlades"/>
    </div>

    <!-- Turbo -->
    <div ng-switch-when="Turbo">

        <label>Coolant</label>
        <picker path="type/cool" ng-model="part.coolType"></picker>

        <h3>Turbo Model</h3>
        <div style="display: table-row" ng-include="'/views/part/form/TurboModel.html'"></div>
    </div>
</div>

<div data-ng-hide="oldPart == null">

  <!-- Interchanges -->
  <dl>
      <dt>Interchangeable Part Group
          <span ng-hide="part.interchange.id == null">#{{part.interchange.id}}</span>
          <span ng-show="part.interchange.id == null">[none]</span>
      </dt>
      <dd ng-hide="part.interchange == null">
          Name:
          <span ng-hide="part.interchange.name == null || part.interchange.name == ''">{{part.interchange.name}}</span>
          <span ng-show="part.interchange.name == null || part.interchange.name == ''">[blank]</span>
      </dd>
      <dd ng-hide="part.interchange == null">
          Description:
          <span ng-hide="part.interchange.description == null || part.interchange.description == ''">{{part.interchange.description}}</span>
          <span ng-show="part.interchange.description == null || part.interchange.description == ''">[blank]</span>
      </dd>
  </dl>

  <h3>Bill of Materials</h3>
  <table ng-table="bomTableParams" class="table table-bordered table-striped">
      <tr ng-repeat="(index, bomItem) in $data">
          <td title="'Type'">{{bomItem.child.partType.name}}</td>
          <td title="'Name'">{{bomItem.child.name}}</td>
          <td title="'Manufacturer'">{{bomItem.child.manufacturer.name}}</td>
          <td title="'Manufacturer Part Number'">{{bomItem.child.manufacturerPartNumber}}</td>
          <td title="'Quantity'">
              <input type="text" ng-model="bomItem.quantity"/>
          </td>
          <td title="'Actions'">
              <a ng-click="bomDelete(index, bomItem)" class="btn btn-large btn-danger">Delete</a>
          </td>
      </tr>
  </table>

  <p>
    <a ng-href="#/part/{{ part.partType.typeName }}/{{ partId }}/bom/search" class="btn btn-large btn-info">Add Item</a>
  </p>

</div>

</ng-form>

</div>
