  <metanav>
    <li>
      <button ng-click="back()" class="btn btn-secondary">
        <i class="fa fa-users"></i>
        Users
      </button>
    </li>

    <li>
      <button ng-click="save()"
         ng-disabled="form.$pristine"
         class="btn btn-success">
        <i class="fa fa-save"></i>
        Save
      </button>
    </li>

    <li>
      <button ng-click="undo()"
         ng-disabled="form.$pristine"
         ng-show="user.id"
         class="btn btn-warning">
        <i class="fa fa-undo"></i>
        Undo
      </button>
    </li>

    <li ng-show="user.id">
      <button ng-click="toggleResetPassword()"
         class="btn btn-primary"
         ng-class="{active: showResetPassword}">
        <i class="fa fa-key"></i>
        Reset Password
      </button>
    </li>

    <li ng-show="user.id">
      <button ng-click="delete()"
         class="btn btn-danger">
        <i class="fa fa-trash-o"></i>
        Delete
      </button>
    </li>
  </metanav>

  <div class="row">
    <hgroup class="col-xs-12">
      <h1 ng-hide="user.id">Create User</h1>

      <h1 ng-show="user.id">User: {{user.name}}</h1>
    </hgroup>
  </div>

  <ng-form name="form" role="user information">
    <fieldset class="form-group">
      <label for="name-input">Name</label>
      <input type="text" ng-model="user.name" class="form-control" id="name-input" placeholder="First and last name">
    </fieldset>
    <fieldset class="form-group">
      <label for="email-input">Email</label>
      <input type="email" ng-model="user.email" class="form-control" id="email-input" placeholder="Email">
    </fieldset>
    <fieldset class="form-group">
      <label for="authProvider">Authentication provider</label>
      <select id="authProvider" ng-model="user.authProvider" ng-options="ap.name for ap in authProviders track by ap.id" class="form-control" style="width:auto;"></select>
    </fieldset>
    <fieldset class="form-group" ng-show="(user.id == null || showResetPassword) && user.authProvider.id == -1">
      <label for="password-input">Password</label>
      <input type="password" ng-model="user.password" class="form-control" id="password-input" placeholder="New password">
    </fieldset>
  </ng-form>

  <div class="row">
    <div class="col-sm-5 col-md-4" ng-if="user.id">
      <h2 style="margin-top:0;">Groups</h2>
      <ul class="col-sm-9 list-group">
        <li ng-repeat="group in user.groups" class="list-group-item">
          <a ng-href="/security/group/{{group.id}}">{{group.name}}</a>
        </li>
        <li ng-hide="user.groups" class="list-group-item">No groups assigned</li>
      </ul>
    </div>
  </div>

