<div class="row">

  <!-- Search by input or facet select options -->
  <div class="col-xs-12 col-sm-3">
    <form id="filter-form" role="form">
      <button class="btn btn-default input-sm" data-ng-click="clearPartNumber()">
        <i class="fa fa-eraser" aria-hidden="true"></i> Clear
      </button>
      <div class="form-group">
        <label for="fltrPartNumber" class="sr-only control-label">Part Number</label>
        <input class="form-control input-sm" id="fltrPartNumber" name="fltrPartNumber" type="text" data-ng-model="search.partNumber" data-ng-model-options="{debounce: 500}" placeholder="Part number..." />
      </div>
      <div class="form-group">
        <label for="fltrManufacturer">Manufacturer</label>
        <select id="fltrManufacturer" name="fltrManufacturer" class="form-control input-sm" data-ng-options="m.name for m in manufacturers track by m.id" data-ng-model="searchManufacturer">
          <option></option>
        </select>
      </div>
      <div class="form-group">
        <label for="fltrName">Name</label>
        <input id="fltrName" name="fltrName" class="form-control input-sm" type="text" data-ng-model="searchName" placeholder="Name..." data-ng-model-options="{debounce: 500}" />
      </div>
      <div class="form-group">
        <label for="fltrPartType">Part Type</label>
        <select id="fltrPartType" name="fltrPartType" class="form-control input-sm" data-ng-options="pt.name for pt in partTypes track by pt.id" data-ng-model="searchPartType">
          <option></option>
        </select>
      </div>
      <hr/>
      <div class="form-group" data-ng-repeat="cd in critDims">
        <input type="text" placeholder="{{cd.name}}" class="form-control input-sm" data-ng-if="cd.dataType !== 'ENUMERATION'" data-ng-model="searchCritDims[cd.idxName]" data-ng-model-options="{debounce: 500}" />
        <label data-ng-if="cd.dataType == 'ENUMERATION'">{{cd.name}}</label>
        <select class="form-control input-sm" data-ng-options="itm.val for itm in critDimEnumValsMap[cd.enumeration.id].values track by itm.id"  data-ng-model="searchCritDims[cd.idxName]"  data-ng-if="cd.dataType == 'ENUMERATION'">
          <option></option>
        </select>
      </div>
    </form>
  </div>

  <!-- Tabular search results -->
  <div class="col-xs-12 col-sm-9">
    <div data-ng-class="['checkbox', {'disabled': !searchPartType}]">
      <label data-ng-class="{'text-muted': !searchPartType}">
        <input type="checkbox" tabindex="-1" data-ng-model="showCriticalDimensions" value="true" data-ng-disabled="!searchPartType"/>
        Show critical dimensions
      </label>
    </div>
    <table data-ng-table="partTableParams" class="table table-condensed table-bordered table-striped">
      <tr data-ng-repeat="part in $data">
        <td title="'Part Type'" sortable="'partType.name.lower_case_sort'">
          {{part._source.partType.name}}
        </td>
        <td title="'Manufacturer'" sortable="'manufacturer.name.lower_case_sort'">
          {{part._source.manufacturer.name}}
        </td>
        <td title="'Mfr Part #'" sortable="'manufacturerPartNumber.lower_case_sort'">
          {{part._source.manufacturerPartNumber}}
        </td>
        <td title="'Name'" sortable="'name.lower_case_sort'">
          {{part._source.name}}
        </td>
        <td class="actions text-center" title="'Actions'" part-search-actions></td>
      </tr>
      <tr data-ng-hide="$data.length"><td colspan="5">No data to display.</td></tr>
    </table>
  </div>

</div>
