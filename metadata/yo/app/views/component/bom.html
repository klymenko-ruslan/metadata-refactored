<div class="pull-right" style="margin-bottom: 5px;">
  <a authorize="ROLE_BOM"
     class="btn btn-primary"
     data-ng-href="/part/{{parentPartId}}/parentbom/search">
    <i class="fa fa-plus"></i> Add to Parent
  </a>
  <a authorize="ROLE_BOM"
     class="btn btn-primary"
     data-ng-href="/part/{{parentPartId}}/bom/search">
    <i class="fa fa-plus"></i> Add Child
  </a>
</div>

<table data-ng-table="bomTableParams" class="table table-bordered table-striped table-hover table-responsive">
  <tr data-ng-repeat="b in $data">
    <td title="'Part#'" class="text-center text-nowrap" data-sortable="'partNumber'">
      <a data-ng-href="/part/{{b.partId}}">{{b.partNumber}}</a>
    </td>
    <td title="'Qty'" class="text-right" data-sortable="'qty'">
      <span data-ng-hide="isModifying(b)">{{b.qty}}</span>
      <input data-ng-model="modifyValues[b.partId]" type="text" data-ng-show="isModifying(b)"/>
    </td>
    <td title="'Type'" data-sortable="'partType.name'">
      {{b.partType.name}}
    </td>
    <td title="'Name'" data-sortable="'child.name'">
      {{b.name}}
    </td>
    <td title="'Interchange'">
      <ul class="list-unstyled list-inline" style="margin-bottom:0">
      <li data-ng-repeat="row in b.interchanges">
        <a data-ng-href="/part/{{row.partId}}">{{row.partNumber}}</a><span data-ng-if="!$last">,</span>
      </li>
      </ul>
    </td>
    <td title="'Actions'" class="actions">

      <button data-ng-click="modifyStart(b)"
              authorize="ROLE_BOM" class="btn btn-warning btn-xs"
              data-ng-hide="isModifying(b)">
        <i class="fa fa-cog"></i> Modify
      </button>

      <button data-ng-click="modifySave(b)"
              authorize="ROLE_BOM" class="btn btn-success btn-xs"
              data-ng-show="isModifying(b)">
        <i class="fa fa-save"></i> Save
      </button>

      <button data-ng-click="modifyCancel(b)"
              authorize="ROLE_BOM" class="btn btn-warning btn-xs"
              data-ng-show="isModifying(b)">
        <i class="fa fa-minus-circle"></i> Cancel
      </button>

      <a data-ng-click="showAlternates(b)"
         authorize="ROLE_READ" class="btn btn-info btn-xs"
         data-ng-hide="isModifying(b)">
        <i class="fa fa-random"></i> Alternates
      </a>

      <button data-ng-click="remove(b)"
              authorize="ROLE_BOM" class="btn btn-danger btn-xs"
              data-ng-hide="isModifying(b)">
        <i class="fa fa-trash-o"></i> Remove
      </button>

    </td>
  </tr>

  <tr data-ng-hide="$data.length > 0">
    <td colspan="6">No parts to display.</td>
  </tr>
</table>

<div class="row" data-ng-show="altBomItem">
  <div class="col-xs-12">
    <h4 part-name="altBomItem" part-name-suffix="Alternates"></h4>

    <div class="pull-right" style="margin-bottom: 5px;">
      <a authorize="ROLE_BOM" class="btn btn-info pull-right"
        data-ng-href="/part/{{parentPartId}}/bom/{{altBomItem.id}}/search">
        <i class="fa fa-cogs"></i>
        Add Alternate
      </a>
    </div>

    <part-table parts="altBomItem.alternatives" key="part" extra-columns="{&quot;Alt Group #&quot;: &quot;item.header.id&quot;}">

      <button data-ng-click="removeAlternate(index, item)"
        authorize="ROLE_BOM_ALT" class="btn btn-danger btn-xs">
        <i class="fa fa-trash-o"></i> Remove
      </button>

    </part-table>
  </div>
</div>
