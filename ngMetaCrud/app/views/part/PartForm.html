<div>

<ul class="btn-group">
    <li><a class="btn btn-large" ng-href="#/part">Go to Part List</a></li>
    <li><a class="btn btn-large" ng-href="#/part/{{ partType }}/{{ partId }}">Go to Part Detail</a></li>
    <li><a ng-click="save()" class="btn btn-large btn-success">Save Changes</a></li>
    <li><a ng-click="revert()" class="btn btn-large btn-danger" ng-disabled="angular.equals(part != oldPart)">Revert to Original</a></li>
</div>

<h2>
    <span ng-hide="partId">Create </span>
    {{ partType }}
    <span ng-show="partId">#{{ partId }} </span></h2>

<label>Name</label>
<input type="text" ng-model="part.name"/>

<label>Description</label>
<input type="text" ng-model="part.description"/>

<label>Status</label>
<button ng-model="part.inactive" class="btn btn-primary ng-pristine" btn-checkbox>
    <span ng-show="part.inactive">Inactive</span>
    <span ng-hide="part.inactive">Active</span>
</button>

<label>Manufacturer</label>
<picker ng-model="part.manufacturer" path="other/manufacturer"></picker>

<label>Manufacturer P/N</label>
<input type="text" ng-model="part.manufacturerPartNumber"/>

<!-- Type-specific fields -->
<div ng-switch="partType">

    <!-- Backplate -->
    <div ng-switch-when="Backplate">
        <label>Seal Type</label>
        <picker path="type/seal" ng-model="part.sealType"></picker>

        <label>Seal Type</label>
        <input type="text" ng-model="part.sealTypeString"/>

        <label>Compressor Wheel Style</label>
        <input type="text" ng-model="part.styleCompressorWheel"/>

        <label>Overall Diameter</label>
        <input type="text" ng-model="part.overallDiameter"/>

        <label>Compressor Wheel Diameter</label>
        <input type="text" ng-model="part.compressorWheelDiameter"/>

        <label>Piston Ring Diameter</label>
        <input type="text" ng-model="part.pistonRingDiameter"/>

        <label>Compressor Housing Diameter</label>
        <input type="text" ng-model="part.compressorHousingDiameter"/>

        <label>Secondary Diameter</label>
        <input type="text" ng-model="part.secondaryDiameter"/>

        <label>Overall Height</label>
        <input type="text" ng-model="part.overallHeight"/>

        <label>Notes</label>
        <textarea ng-model="part.notes"></textarea>
    </div>

    <!-- Bearing Housing -->
    <div ng-switch-when="Bearing Housing">
        <label>Coolant</label>
        <picker path="type/cool" ng-model="part.coolType"></picker>

        <label>Oil Inlet</label>
        <input type="text" ng-model="part.oilInlet"/>

        <label>Oil Outlet</label>
        <input type="text" ng-model="part.oilOutlet"/>

        <label>Oil</label>
        <input type="text" ng-model="part.oil"/>

        <label>Outlet Flange Holes</label>
        <input type="text" ng-model="part.outletFlangeHoles"/>

        <label>Water Ports</label>
        <input type="text" ng-model="part.waterPorts"/>

        <label>Design Features</label>
        <input type="text" ng-model="part.designFeatures"/>

        <label>Bearing Type</label>
        <input type="text" ng-model="part.bearingType"/>
    </div>

    <!-- Bearing Spacer -->
    <div ng-switch-when="Bearing Spacer">
        <label>Standard Size</label>
        <picker path="part?type=BearingSpacer" ng-model="part.standardSize"></picker>

        <label>Oversize</label>
        <picker path="part?type=BearingSpacer" ng-model="part.oversize"></picker>

        <label>Outside Diameter (min - max)</label>
        <input type="text" ng-model="part.outsideDiameterMin"/> - <input type="text" ng-model="part.outsideDiameterMax"/>
        private Float insideDiameterMin;

        <label>Inside Diameter (min - max)</label>
        <input type="text" ng-model="part.insideDiameterMin"/> - <input type="text" ng-model="part.insideDiameterMax"/>
    </div>

    <!-- Cartridge -->

    <!-- Compressor Wheel -->
    <div ng-switch-when="Compressor Wheel">
        <label>Inducer Diameter A</label>
        <input type="text" ng-model="part.inducerOa"/>

        <label>Tip Height B</label>
        <input type="text" ng-model="part.tipHeightB"/>

        <label>Exducer Diameter C</label>
        <input type="text" ng-model="part.exducerOc"/>

        <label>Hub Length D</label>
        <input type="text" ng-model="part.hubLengthD"/>

        <label>Bore Diameter E</label>
        <input type="text" ng-model="part.boreOe"/>

        <label>Number of Blades</label>
        <input type="text" ng-model="part.numberOfBlades"/>

        <label>Application</label>
        <input type="text" ng-model="part.application"/>
    </div>

    <!-- Gasket -->
    <div ng-switch-when="Gasket">
        <label>Type</label>
        <picker path="type/gasket" ng-model="part.gasketType"></picker>
    </div>

    <!-- Heatshield -->
    <div ng-switch-when="Heatshield">
        <label>Overall Diameter</label>
        <input type="text" ng-model="part.overallDiameter"/>

        <label>Inside Diameter</label>
        <input type="text" ng-model="part.insideDiameter"/>

        <label>Inducer Diameter</label>
        <input type="text" ng-model="part.inducerDiameter"/>
    </div>

    <!-- Journal Bearing -->
    <div ng-switch-when="Journal Bearing">
        <label>Standard Size</label>
        <picker path="part?type=JournalBearing" ng-model="part.standardSize"></picker>

        <label>Oversize</label>
        <picker path="part?type=JournalBearing" ng-model="part.oversize"></picker>

        <label>Outside Diameter (min - max)</label>
        <input type="text" ng-model="part.outsideDiameterMin"/> - <input type="text" ng-model="part.outsideDiameterMax"/>

        <label>Inside Diameter (min - max)</label>
        <input type="text" ng-model="part.insideDiameterMin"/> - <input type="text" ng-model="part.insideDiameterMax"/>
    </div>

    <!-- Kit -->
    <div ng-switch-when="Kit">
        <label>Kit Type</label>
        <picker path="type/kit" ng-model="part.kitType"></picker>
    </div>

    <!-- Nozzle Ring -->

    <!-- Piston Ring -->
    <div ng-switch-when="Piston Ring">
        <label>Outside Diameter (min - max)</label>
        <input type="text" ng-model="part.outsideDiameterMin"/> - <input type="text" ng-model="part.outsideDiameterMax"/>

        <label>Width (min - max)</label>
        <input type="text" ng-model="part.widthMin"/> - <input type="text" ng-model="part.widthMax"/>

        <label>Installed Gap (min - max)</label>
        <input type="text" ng-model="part.installedGapMin"/> - <input type="text" ng-model="part.installedGapMax"/>
    </div>

    <!-- Turbine Wheel -->
    <div ng-switch-when="Turbine Wheel">
        <label>Exducer Diameter A</label>
        <input type="text" ng-model="part.exducerDiameterA"/>

        <label>Tip Height B</label>
        <input type="text" ng-model="part.tipHeightB"/>

        <label>Inducer Diameter C</label>
        <input type="text" ng-model="part.inducerDiameterC"/>

        <label>Journal Diameter D</label>
        <input type="text" ng-model="part.journalDiameterD"/>

        <label>Stem Diameter E</label>
        <input type="text" ng-model="part.stemDiameterE"/>

        <label>Shaft Thread F</label>
        <input type="text" ng-model="part.shaftThreadF"/>

        <label>Number of Blades</label>
        <input type="text" ng-model="part.numberOfBlades"/>
    </div>

    <!-- Turbo -->
    <div ng-switch-when="Turbo">
        <!--<label>Turbo Model</label>-->
        <!--<picker path="other/turbo-model" ng-model="part.turboModel"></picker>-->

        <label>Coolant</label>
        <picker path="type/cool" ng-model="part.coolType"></picker>
    </div>
</div>

<!-- Interchanges -->
<label>Interchangeable Part Group</label>
<span ng-show="part.interchange.id != null">{{part.interchange.id}}</span>
<span ng-show="part.interchange.id == null && part.interchangePartId == null">[none]</span>
<span ng-show="part.interchange.id == null && part.interchangePartId != null">[new]</span>

<button type="button" ng-show="part.interchange.id != null || part.interchangePartId != null" ng-click="clear()">Clear</button>
<button type="button" ng-hide="part.interchange == oldPart.interchange" ng-click="undo()">Undo</button>

<dt>Bill of Materials</dt>
<table data-ng-controller="BillOfMaterialsCtrl" data-ng-table="bomTableParams" class="table table-bordered table-striped">
    <tr data-ng-repeat="bomItem in part.bom" data-ng-click="$emit('BillOfMaterials.click', {'part': part, 'bomItem': bomItem})">
        <td title="'Type'">{{bomItem.child.partType.name}}</td>
        <td title="'Name'">{{bomItem.child.name}}</td>
        <td title="'Manufacturer'">{{bomItem.child.manufacturer.name}}</td>
        <td title="'Manufacturer Part Number'">{{bomItem.child.manufacturerPartNumber}}</td>
        <td title="'Quantity'">{{bomItem.quantity}}
        </td>
    </tr>
</table>

</div>
